{"version":3,"sources":["../../../../src/modules/common/env/env.js"],"names":["apiNode","process","env","VUE_APP_API_COSMOS","replace","rpcNode","VUE_APP_API_TENDERMINT","wsNode","VUE_APP_WS_TENDERMINT","addrPrefix","VUE_APP_ADDRESS_PREFIX","namespaced","state","chainId","sdkVersion","client","chainName","apiConnected","rpcConnected","wsConnected","getTXApi","initialized","getters","signingClient","apiTendermint","apiCosmos","apiWS","mutations","SET_CONFIG","config","offline","CONNECT","INITIALIZE_WS_COMPLETE","SET_CHAIN_ID","SET_CHAIN_NAME","SET_WS_STATUS","status","SET_API_STATUS","SET_RPC_STATUS","SET_TX_API","txapi","actions","init","dispatch","starportUrl","refresh","console","log","SpVuexError","setTxAPI","payload","commit","setConnectivity","connection","signIn","signer","useSigner","Client","apiAddr","rpcAddr","wsAddr","setMaxListeners","on","id","name","options","subscribe","all","params","query","root","reconnectWS","reconnectSigningClient","reconnectClient","switchWS","switchAPI","switchRPC","error"],"mappings":"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","sourcesContent":["import Client from '@starport/client-js'\nimport SpVuexError from '../../../errors/SpVuexError'\n\nconst apiNode =\n\t(process.env.VUE_APP_API_COSMOS && process.env.VUE_APP_API_COSMOS.replace('0.0.0.0', 'localhost')) ||\n\t'http://localhost:1317'\nconst rpcNode =\n\t(process.env.VUE_APP_API_TENDERMINT && process.env.VUE_APP_API_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t'http://localhost:26657'\nconst wsNode =\n\t(process.env.VUE_APP_WS_TENDERMINT && process.env.VUE_APP_WS_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t'ws://localhost:26657/websocket'\nconst addrPrefix = process.env.VUE_APP_ADDRESS_PREFIX || 'cosmos'\n\nexport default {\n\tnamespaced: true,\n\tstate() {\n\t\treturn {\n\t\t\tchainId: '',\n\t\t\taddrPrefix: addrPrefix,\n\t\t\tsdkVersion: 'Stargate',\n\t\t\tapiNode: apiNode,\n\t\t\trpcNode: rpcNode,\n\t\t\twsNode: wsNode,\n\t\t\tclient: null,\n\t\t\tchainName: '',\n\t\t\tapiConnected: false,\n\t\t\trpcConnected: false,\n\t\t\twsConnected: false,\n\t\t\tgetTXApi: '',\n\t\t\tinitialized: false,\n\t\t}\n\t},\n\tgetters: {\n\t\tclient: (state) => state.client,\n\t\tsigningClient: (state) => state.client.signingClient,\n\t\tchainId: (state) => state.chainId,\n\t\tchainName: (state) => state.chainName,\n\t\taddrPrefix: (state) => state.addrPrefix,\n\t\tapiTendermint: (state) => state.rpcNode,\n\t\tapiCosmos: (state) => state.apiNode,\n\t\tapiWS: (state) => state.wsNode,\n\t\tsdkVersion: (state) => state.sdkVersion,\n\t\tapiConnected: (state) => state.apiConnected,\n\t\trpcConnected: (state) => state.rpcConnected,\n\t\twsConnected: (state) => state.wsConnected,\n\t},\n\tmutations: {\n\t\tSET_CONFIG(state, config) {\n\t\t\tstate.apiNode = config.apiNode\n\t\t\tif (config.rpcNode || config.offline) {\n\t\t\t\tstate.rpcNode = config.rpcNode\n\t\t\t}\n\t\t\tif (config.wsNode || config.offline) {\n\t\t\t\tstate.wsNode = config.wsNode\n\t\t\t}\n\t\t\tif (config.chainId || config.offline) {\n\t\t\t\tstate.chainId = config.chainId\n\t\t\t}\n\t\t\tif (config.addrPrefix || config.offline) {\n\t\t\t\tstate.addrPrefix = config.addrPrefix\n\t\t\t}\n\t\t\tif (config.sdkVersion || config.offline) {\n\t\t\t\tstate.sdkVersion = config.sdkVersion\n\t\t\t}\n\t\t\tif (config.getTXApi || config.offline) {\n\t\t\t\tstate.getTXApi = config.getTXApi\n\t\t\t}\n\t\t},\n\t\tCONNECT(state, { client }) {\n\t\t\tstate.client = client\n\t\t},\n\t\tINITIALIZE_WS_COMPLETE(state) {\n\t\t\tstate.initialized = true\n\t\t},\n\t\tSET_CHAIN_ID(state, chainId) {\n\t\t\tstate.chainId = chainId\n\t\t},\n\t\tSET_CHAIN_NAME(state, chainName) {\n\t\t\tstate.chainName = chainName\n\t\t},\n\t\tSET_WS_STATUS(state, status) {\n\t\t\tstate.wsConnected = status\n\t\t},\n\t\tSET_API_STATUS(state, status) {\n\t\t\tstate.apiConnected = status\n\t\t},\n\t\tSET_RPC_STATUS(state, status) {\n\t\t\tstate.rpcConnected = status\n\t\t},\n\t\tSET_TX_API(state, txapi) {\n\t\t\tstate.getTXApi = txapi\n\t\t},\n\t},\n\tactions: {\n\t\tasync init(\n\t\t\t{ dispatch },\n\t\t\tconfig = {\n\t\t\t\tstarportUrl: 'http://localhost:12345',\n\t\t\t\tapiNode: apiNode,\n\t\t\t\trpcNode: rpcNode,\n\t\t\t\twsNode: wsNode,\n\t\t\t\tchainId: '',\n\t\t\t\taddrPrefix: addrPrefix,\n\t\t\t\tchainName: '',\n\t\t\t\tsdkVersion: 'Stargate',\n\t\t\t\tgetTXApi: rpcNode + '/tx?hash=0x',\n\t\t\t\toffline: false,\n\t\t\t\trefresh: 5000,\n\t\t\t},\n\t\t) {\n\t\t\ttry {\n\t\t\t\tawait dispatch('config', config)\n\t\t\t\tconsole.log('Vuex nodule: common.env initialized!')\n\t\t\t} catch (e) {\n\t\t\t\tthrow new SpVuexError('Env:Config', 'Could not configure environment')\n\t\t\t}\n\t\t},\n\t\tsetTxAPI({ commit }, payload) {\n\t\t\tcommit('SET_TX_API', payload)\n\t\t},\n\t\tasync setConnectivity({ commit }, payload) {\n\t\t\tswitch (payload.connection) {\n\t\t\t\tcase 'ws':\n\t\t\t\t\tcommit('SET_WS_STATUS', payload.status)\n\t\t\t\t\tbreak\n\t\t\t\tcase 'api':\n\t\t\t\t\tcommit('SET_API_STATUS', payload.status)\n\t\t\t\t\tbreak\n\t\t\t\tcase 'rpc':\n\t\t\t\t\tcommit('SET_RPC_STATUS', payload.status)\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tasync signIn({ state }, signer) {\n\t\t\ttry {\n\t\t\t\tawait state.client.useSigner(signer)\n\t\t\t} catch (e) {\n\t\t\t\tthrow new SpVuexError('Env:Client:Wallet', 'Could not create signing client with signer: ' + signer)\n\t\t\t}\n\t\t},\n\t\tasync config(\n\t\t\t{ commit, state, dispatch },\n\t\t\tconfig = {\n\t\t\t\tapiNode: 'http://localhost:1317',\n\t\t\t\trpcNode: 'http://localhost:26657',\n\t\t\t\twsNode: 'ws://localhost:26657/websocket',\n\t\t\t\tchainName: '',\n\t\t\t\tchainId: '',\n\t\t\t\taddrPrefix: '',\n\t\t\t\tsdkVersion: 'Stargate',\n\t\t\t\toffline: false,\n\t\t\t\trefresh: 5000,\n\t\t\t\tgetTXApi: 'http://localhost:26657/tx?hash=0x',\n\t\t\t},\n\t\t) {\n\t\t\ttry {\n\t\t\t\tlet client\n\t\t\t\tif (!state.client) {\n\t\t\t\t\tclient = new Client({\n\t\t\t\t\t\tapiAddr: config.apiNode,\n\t\t\t\t\t\trpcAddr: config.rpcNode,\n\t\t\t\t\t\twsAddr: config.wsNode,\n\t\t\t\t\t\toffline: config.offline,\n\t\t\t\t\t\trefresh: config.refresh,\n\t\t\t\t\t})\n\t\t\t\t\tclient.setMaxListeners(0)\n\t\t\t\t\tclient.on('chain-id', (id) => {\n\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\tcommit('SET_CHAIN_ID', id)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tclient.on('chain-name', (name) => {\n\t\t\t\t\t\tif (name) {\n\t\t\t\t\t\t\tcommit('SET_CHAIN_NAME', name)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tclient.on('ws-status', (status) => dispatch('setConnectivity', { connection: 'ws', status: status }))\n\t\t\t\t\tclient.on('api-status', (status) => dispatch('setConnectivity', { connection: 'api', status: status }))\n\t\t\t\t\tclient.on('rpc-status', (status) => dispatch('setConnectivity', { connection: 'rpc', status: status }))\n\t\t\t\t\tcommit('SET_CONFIG', config)\n\t\t\t\t\tawait dispatch(\n\t\t\t\t\t\t'cosmos.staking.v1beta1/QueryParams',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toptions: { subscribe: false, all: false },\n\t\t\t\t\t\t\tparams: {},\n\t\t\t\t\t\t\tquery: null,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ root: true },\n\t\t\t\t\t)\n\t\t\t\t\tawait dispatch(\n\t\t\t\t\t\t'cosmos.bank.v1beta1/QueryTotalSupply',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toptions: { subscribe: false, all: false },\n\t\t\t\t\t\t\tparams: {},\n\t\t\t\t\t\t\tquery: null,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ root: true },\n\t\t\t\t\t)\n\t\t\t\t\tcommit('CONNECT', { client })\n\t\t\t\t\tcommit('INITIALIZE_WS_COMPLETE')\n\t\t\t\t} else {\n\t\t\t\t\tclient = state.client\n\t\t\t\t\tlet reconnectWS = false\n\t\t\t\t\tlet reconnectSigningClient = false\n\t\t\t\t\tlet reconnectClient = false\n\t\t\t\t\tif (config.wsNode != state.wsNode) {\n\t\t\t\t\t\treconnectWS = true\n\t\t\t\t\t}\n\t\t\t\t\tif (config.rpcNode != state.rpcNode) {\n\t\t\t\t\t\treconnectSigningClient = true\n\t\t\t\t\t}\n\t\t\t\t\tif (config.apiNode != state.apiNode) {\n\t\t\t\t\t\treconnectClient = true\n\t\t\t\t\t}\n\t\t\t\t\tcommit('SET_CONFIG', config)\n\n\t\t\t\t\tif (reconnectWS && config.wsNode) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait client.switchWS(config.wsNode)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new SpVuexError('Env:Client:Websocket', 'Could not switch to websocket node:' + config.wsNode)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (reconnectClient && config.apiNode) {\n\t\t\t\t\t\tclient.switchAPI(config.apiNode)\n\t\t\t\t\t}\n\t\t\t\t\tif (reconnectSigningClient && config.rpcNode) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait client.switchRPC(config.rpcNode)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new SpVuexError(\n\t\t\t\t\t\t\t\t'Env:Client:TendermintRPC',\n\t\t\t\t\t\t\t\t'Could not switch to Tendermint RPC node:' + config.rpcNode,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e)\n\t\t\t}\n\t\t},\n\t},\n}\n"],"file":"env.js"}