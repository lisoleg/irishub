{"remainingRequest":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/thread-loader/dist/cjs.js!/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/babel-loader/lib/index.js!/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/ts-loader/index.js??clonedRuleSet-131.use[3]!/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/lisoleg/checkers/vue/node_modules/@starport/vue/src/components/SpWalletMenu/SpWalletMenu.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/src/components/SpWalletMenu/SpWalletMenu.vue","mtime":1642467842918},{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/babel.config.js","mtime":1642396933629},{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/cache-loader/dist/cjs.js","mtime":1642436200407},{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/thread-loader/dist/cjs.js","mtime":1642436200217},{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/babel-loader/lib/index.js","mtime":1642436202647},{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/ts-loader/index.js","mtime":1642436203297},{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/cache-loader/dist/cjs.js","mtime":1642436200407},{"path":"/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/vue-loader/dist/index.js","mtime":1642436202547}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsgLy9pbXBvcnQgKiBhcyBiaXAzOSBmcm9tICdiaXAzOScKCmltcG9ydCBTcEFjY291bnRMaXN0IGZyb20gJy4uL1NwQWNjb3VudExpc3QnOwppbXBvcnQgU3BCdXR0b24gZnJvbSAnLi4vU3BCdXR0b24nOwppbXBvcnQgU3BMaW5rSWNvbiBmcm9tICcuLi9TcExpbmtJY29uJzsKaW1wb3J0IGF2YXRhciBmcm9tICdncmFkaWVudC1hdmF0YXInOwppbXBvcnQgTUQ1IGZyb20gJ2NyeXB0by1qcy9tZDUnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdTcFdhbGxldE1lbnUnLAogIGNvbXBvbmVudHM6IHsKICAgIFNwQWNjb3VudExpc3QsCiAgICBTcEJ1dHRvbiwKICAgIFNwTGlua0ljb24KICB9LAogIGVtaXRzOiBbJ2NyZWF0ZU5ldyddLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZW5lZDogZmFsc2UsCiAgICAgIHVubG9ja2luZzogZmFsc2UsCiAgICAgIHRvVW5sb2NrOiBudWxsLAogICAgICBwYXNzd29yZDogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgd2FsbGV0TGlzdDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5fZGVwc0xvYWRlZCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jb21tb24ud2FsbGV0LndhbGxldHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgd2FsbGV0VG9VbmxvY2s6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMud2FsbGV0TGlzdC5maW5kKHggPT4geC5uYW1lID09IHRoaXMudG9VbmxvY2spOwogICAgfSwKICAgIHNob3J0QWRkcmVzczogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50QWNjb3VudCkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRBY2NvdW50LnN1YnN0cigwLCAxMCkgKyAnLi4uJyArIHRoaXMuY3VycmVudEFjY291bnQuc2xpY2UoLTUpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgY3VycmVudEFjY291bnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuX2RlcHNMb2FkZWQpIHsKICAgICAgICBpZiAodGhpcy5sb2dnZWRJbikgewogICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvbW1vbi93YWxsZXQvYWRkcmVzcyddOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICB3YWxsZXROYW1lOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9kZXBzTG9hZGVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvbW1vbi93YWxsZXQvd2FsbGV0TmFtZSddOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIGxvZ2dlZEluOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9kZXBzTG9hZGVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvbW1vbi93YWxsZXQvbG9nZ2VkSW4nXTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBsYXN0V2FsbGV0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLl9kZXBzTG9hZGVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2NvbW1vbi93YWxsZXQvbGFzdFdhbGxldCddOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgdG9wV2FsbGV0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLndhbGxldExpc3QuZmlsdGVyKHggPT4geC5uYW1lID09IHRoaXMubGFzdFdhbGxldClbMF07CiAgICB9LAogICAgcmVzdFdhbGxldHM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMud2FsbGV0TGlzdC5maWx0ZXIoeCA9PiB4Lm5hbWUgIT0gdGhpcy5sYXN0V2FsbGV0KTsKICAgIH0sCiAgICBkZXBzTG9hZGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kZXBzTG9hZGVkOwogICAgfQogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCB2dWV4TW9kdWxlID0gWydjb21tb24nLCAnd2FsbGV0J107CgogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdnVleE1vZHVsZS5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBzdWJtb2QgPSB2dWV4TW9kdWxlLnNsaWNlKDAsIGkpOwoKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5oYXNNb2R1bGUoc3VibW9kKSkgewogICAgICAgIGNvbnNvbGUubG9nKCdNb2R1bGUgJyArIHZ1ZXhNb2R1bGUgKyAnIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkIScpOwogICAgICAgIHRoaXMuX2RlcHNMb2FkZWQgPSBmYWxzZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QXZhdGFyOiBmdW5jdGlvbiAobmFtZSkgewogICAgICByZXR1cm4gYXZhdGFyKE1ENShuYW1lKSArICcnLCA2NCk7CiAgICB9LAogICAgdW5sb2NrU3RvcmVXYWxsZXQ6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuX2RlcHNMb2FkZWQpIHsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY29tbW9uL3dhbGxldC91bmxvY2tXYWxsZXQnLCB7CiAgICAgICAgICBuYW1lOiB0aGlzLndhbGxldFRvVW5sb2NrPy5uYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgICB9KTsKICAgICAgICB0aGlzLnVubG9ja2luZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlTmV3V2FsbGV0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NyZWF0ZU5ldycpOwogICAgfSwKICAgIHRvZ2dsZVdhbGxldDogYXN5bmMgZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgaWYgKG5hbWUgIT0gdGhpcy53YWxsZXROYW1lKSB7CiAgICAgICAgaWYgKG5hbWUgPT0gJ0tlcGxyIEludGVncmF0aW9uJykgewogICAgICAgICAgYXdhaXQgd2luZG93LmtlcGxyLmVuYWJsZSh0aGlzLiRzdG9yZS5nZXR0ZXJzWydjb21tb24vZW52L2NoYWluSWQnXSk7CiAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY29tbW9uL3dhbGxldC91bmxvY2tXYWxsZXQnLCB7CiAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiBudWxsCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50b1VubG9jayA9IG5hbWU7CiAgICAgICAgICB0aGlzLnVubG9ja2luZyA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjb21tb24vd2FsbGV0L3NpZ25PdXQnKTsKICAgICAgICB0aGlzLnRvVW5sb2NrID0gJyc7CiAgICAgICAgdGhpcy51bmxvY2tpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/lisoleg/checkers/vue/node_modules/@starport/vue/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/lisoleg/checkers/vue/node_modules/@starport/vue/src/components/SpWalletMenu/SpWalletMenu.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { defineComponent } from 'vue'\n//import * as bip39 from 'bip39'\nimport SpAccountList from '../SpAccountList'\nimport SpButton from '../SpButton'\nimport SpLinkIcon from '../SpLinkIcon'\nimport avatar from 'gradient-avatar'\nimport type { Wallet } from '../../utils/interfaces'\nimport MD5 from 'crypto-js/md5'\n\nexport interface SpWalletMenuState {\n  opened: boolean\n  unlocking: boolean\n  toUnlock: string | null\n  password: string\n}\nexport default defineComponent({\n  name: 'SpWalletMenu',\n  components: {\n    SpAccountList,\n    SpButton,\n    SpLinkIcon,\n  },\n  emits: ['createNew'],\n  data: function (): SpWalletMenuState {\n    return {\n      opened: false,\n      unlocking: false,\n      toUnlock: null,\n      password: '',\n    }\n  },\n  computed: {\n    walletList: function (): Array<Wallet> {\n      if (this._depsLoaded) {\n        return this.$store.state.common.wallet.wallets\n      } else {\n        return []\n      }\n    },\n    walletToUnlock: function (): Wallet | undefined {\n      return this.walletList.find((x) => x.name == this.toUnlock)\n    },\n    shortAddress: function (): string | null {\n      if (this.currentAccount) {\n        return this.currentAccount.substr(0, 10) + '...' + this.currentAccount.slice(-5)\n      } else {\n        return null\n      }\n    },\n    currentAccount: function (): string | null {\n      if (this._depsLoaded) {\n        if (this.loggedIn) {\n          return this.$store.getters['common/wallet/address']\n        } else {\n          return null\n        }\n      } else {\n        return null\n      }\n    },\n    walletName: function (): string {\n      if (this._depsLoaded) {\n        return this.$store.getters['common/wallet/walletName']\n      } else {\n        return ''\n      }\n    },\n    loggedIn: function (): boolean {\n      if (this._depsLoaded) {\n        return this.$store.getters['common/wallet/loggedIn']\n      } else {\n        return false\n      }\n    },\n    lastWallet: function (): string | null {\n      if (this._depsLoaded) {\n        return this.$store.getters['common/wallet/lastWallet']\n      } else {\n        return null\n      }\n    },\n    topWallet: function (): Wallet {\n      return this.walletList.filter((x) => x.name == this.lastWallet)[0]\n    },\n    restWallets: function (): Array<Wallet> {\n      return this.walletList.filter((x) => x.name != this.lastWallet)\n    },\n    depsLoaded: function (): boolean {\n      return this._depsLoaded\n    },\n  },\n  beforeCreate: function (): void {\n    const vuexModule = ['common', 'wallet']\n    for (let i = 1; i <= vuexModule.length; i++) {\n      const submod = vuexModule.slice(0, i)\n      if (!this.$store.hasModule(submod)) {\n        console.log('Module ' + vuexModule + ' has not been registered!')\n        this._depsLoaded = false\n        break\n      }\n    }\n  },\n  methods: {\n    getAvatar: function (name: string): string {\n      return avatar(MD5(name) + '', 64)\n    },\n    unlockStoreWallet: async function (): Promise<void> {\n      if (this._depsLoaded) {\n        await this.$store.dispatch('common/wallet/unlockWallet', {\n          name: this.walletToUnlock?.name,\n          password: this.password,\n        })\n        this.unlocking = false\n      }\n    },\n    createNewWallet: function (): void {\n      this.$emit('createNew')\n    },\n    toggleWallet: async function (name: string): Promise<void> {\n      if (name != this.walletName) {\n        if (name == 'Keplr Integration') {\n          await window.keplr.enable(this.$store.getters['common/env/chainId'])\n          await this.$store.dispatch('common/wallet/unlockWallet', {\n            name,\n            password: null,\n          })\n        } else {\n          this.toUnlock = name\n          this.unlocking = true\n        }\n      } else {\n        await this.$store.dispatch('common/wallet/signOut')\n        this.toUnlock = ''\n        this.unlocking = false\n      }\n    },\n  },\n})\n"],"sourceRoot":""}]}